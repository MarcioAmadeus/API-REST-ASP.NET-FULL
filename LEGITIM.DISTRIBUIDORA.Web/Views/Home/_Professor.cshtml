@model LEGITIM.DISTRIBUIDORA.Web.Models.Home.HomeAlunoViewModel
@using LEGITIM.DISTRIBUIDORA.Utils;
@using LEGITIM.DISTRIBUIDORA.Utils.Enums;

@{
    ViewBag.Aviso = "Nenhuma Ação Pendente.";
}
@if (Model == null || Model.ProfessorPendencias.Count < 1)
{
    <div class="alert alert-warning alert-dismissible" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        @ViewBag.Aviso
    </div>
}
else
{
    <div class="well steps-history">
        <!-- FOR LOOP -->
        <div class="">

            <table id="myTable" class="table table-condensed table-hover">
                <thead>
                    <tr>
                        <th class="hasinput">
                            <input id="column2" type="text" class="form-control" placeholder="Filtrar Turma" />
                        </th>
                        <th class="hasinput">
                            <input id="column2" type="text" class="form-control" placeholder="Filtrar Data Início" />
                        </th>
                        <th class="hasinput">
                            <input id="column3" type="text" class="form-control" placeholder="Filtrar Data Fim" />
                        </th>
                        <th class="hasinput">
                            <input id="column4" type="text" class="form-control" placeholder="Filtrar Aluno" />
                        </th>
                        <th class="hasinput">
                            <input id="column1" type="text" class="form-control" placeholder="Filtrar Ação" />
                        </th>
                    </tr>
                    <tr>
                        <th>Turma</th>
                        <th>Data Início</th>
                        <th>Data Fim</th>
                        <th>Aluno</th>
                        <th>Ação</th>
                    </tr>
                </thead>
                <tbody>

                    @foreach (var item in Model.ProfessorPendencias)
                {
                    if (item.Origem == "Pre Projeto")
                    {
                            <tr id="item">
                                <td>@item.Turma</td>
                                <td>@item.DataIncicio.ToString("dd MMMMMMMMMM yyyy")</td>
                                <td>@item.DataFim.ToString("dd MMMMMMMMMMM yyyy")</td>
                                <td>Ação Afeta Múltiplos Alunos</td>
                                <td><a href="@item.Linktext"> @item.Acao</a></td>
                            </tr>
                        }
                        if (item.Origem == Enumerations.GetEnumDescription(eOrigemHistorico.Orientacao))
                        {
                            <tr id="item">
                                <td>@item.Turma</td>
                                <td>@item.DataIncicio.ToString("dd MMMMMMMMMM yyyy")</td>
                                <td>@item.DataFim.ToString("dd MMMMMMMMMMM yyyy")</td>
                                <td><a href="@item.AlunoPerfilLink">@item.Aluno</a></td>

                                <td><a href="@item.Linktext"> Avaliar Orientação</a></td>
                            </tr>
                        }
                        if (item.Origem == Enumerations.GetEnumDescription(eOrigemHistorico.Projeto))
                        {
                            <tr id="item">
                                <td>@item.Turma</td>
                                <td>@item.DataIncicio.ToString("dd MMMMMMMMMM yyyy")</td>
                                <td>@item.DataFim.ToString("dd MMMMMMMMMMM yyyy")</td>
                                <td><a href="@item.AlunoPerfilLink">@item.Aluno</a></td>
                                <td><a href="@item.Linktext"> Avaliar Projeto</a></td>
                            </tr>
                        }
                        if (item.Origem == "Tese Preliminar")
                        {
                            <tr id="item">
                                <td>@item.Turma</td>
                                <td>@item.DataIncicio.ToString("dd MMMMMMMMMM yyyy")</td>
                                <td>@item.DataFim.ToString("dd MMMMMMMMMMM yyyy")</td>
                                <td><a href="@item.AlunoPerfilLink">@item.Aluno</a></td>
                                <td><a href="@item.Linktext"> Avaliar versão preliminar do trabalho final </a></td>

                            </tr>
                        }
                        if (item.Origem == "Banca")
                        {
                            <tr id="item">
                                <td>@item.Turma</td>
                                <td>@item.DataIncicio.ToString("dd MMMMMMMMMM yyyy")</td>
                                <td>@item.DataFim.ToString("dd MMMMMMMMMMM yyyy")</td>
                                <td><a href="@item.AlunoPerfilLink">@item.Aluno</a></td>
                                <td><a href="@item.Linktext"> Avaliar Data Banca</a></td>

                            </tr>
                        }
                        if (item.Origem == "Banca Avalia")
                        {
                            <tr id="item">
                                <td>@item.Turma</td>
                                <td>@item.DataIncicio.ToString("dd MMMMMMMMMM yyyy")</td>
                                <td>@item.DataFim.ToString("dd MMMMMMMMMMM yyyy")</td>
                                <td><a href="@item.AlunoPerfilLink">@item.Aluno</a></td>
                                <td><a href="@item.Linktext"> Avaliar Defesa</a></td>

                            </tr>
                        }
                        if (item.Origem == "Tese Final")
                        {
                            <tr id="item">
                                <td>@item.Turma</td>
                                <td>@item.DataIncicio.ToString("dd MMMMMMMMMM yyyy")</td>
                                <td>@item.DataFim.ToString("dd MMMMMMMMMMM yyyy")</td>
                                <td><a href="@item.AlunoPerfilLink">@item.Aluno</a></td>
                                <td><a href="@item.Linktext"> Avaliar Trabalho Final</a></td>

                            </tr>
                        }
                    }

                </tbody>
            </table>
        </div>
    </div>
}
<script>
    $(document).ready(function () {
        $('#myTable').dataTable();
    });
</script>